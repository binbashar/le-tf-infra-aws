configs:
  cm:
    exec.enabled: "${enableWebTerminal}"

controller:
  nodeSelector: ${nodeSelector}
  tolerations: ${tolerations}

dex:
  nodeSelector: ${nodeSelector}
  tolerations: ${tolerations}

redis:
  nodeSelector: ${nodeSelector}
  tolerations: ${tolerations}

server:
  nodeSelector: ${nodeSelector}
  tolerations: ${tolerations}

  ingress:
    enabled: true
    annotations:
      kubernetes.io/tls-acme: "true"
      # Associate this ingress with the following ingress controller
      kubernetes.io/ingress.class: ${ingressClass}
      # Use the following cert-manager clusterissuer
      cert-manager.io/cluster-issuer: clusterissuer-binbash-cert-manager-clusterissuer
      # The backend (ArgoCD Server) is expecting to handle HTTPS
      nginx.ingress.kubernetes.io/backend-protocol: "HTTPS"
    hosts:
      - ${argoHost}
    paths:
      - /
    tls:
      - secretName: argocd-server-tls
        hosts:
          - ${argoHost}

  extensions:
    enabled: false

    contents:
      - name: argo-rollouts
        url: https://github.com/argoproj-labs/rollout-extension/releases/download/v0.2.0/extension.tar
